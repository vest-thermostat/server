{% extends "base.html" %}
{% load sekizai_tags %}
{% load jsonify %}
{% load render_bundle from webpack_loader %}

{% block title %}
    {{ block.super }}
    Localisation
{% endblock %}

{% block head %}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />                                                                                              

<style>
    h1, h2, p {
      text-align: center;
    }
    .leaflet-container {
      height: 600px;
      width: 80%;
      margin: 0 auto;
    }
</style>

{% endblock %}

{% block content %}

<div class="container">
    <!-- <h3> -->
    <!--     Localisation -->
    <!-- </h3> -->
    <!-- <hr> -->
    <div id="react-location-map" class="leaflet-container"></div>
    <script>
        $(document).ready(function () {
            locationMap({{ results | jsonify }});
        })
    </script>
    {% render_bundle 'location_map' %}

    <hr>

    <div class="panel panel-default" id="accordion">
        <div class="panel-heading" role="tab" id="headingOne">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                Donn√©e brute
            </a>
        </div>
        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
                {{ results | jsonify }}
            </div>
        </div>
    </div>
<div>

{% endblock %}
